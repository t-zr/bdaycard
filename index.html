<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Birthday Exploding Hello</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

body, html {
margin: 0; padding: 0;
height: 100%;
overflow: hidden;
font-family: â€˜Orbitronâ€™, sans-serif;
color: #b71c1c;
display: flex;
justify-content: center;
align-items: center;
flex-direction: column;
position: relative;
}

/* Default background */
.normal-bg {
background: radial-gradient(circle at center, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
}

/* Enhanced birthday background with animated gradients */
.birthday-bg {
background:
radial-gradient(circle at 20% 80%, rgba(255, 105, 180, 0.3) 0%, transparent 50%),
radial-gradient(circle at 80% 20%, rgba(255, 215, 0, 0.3) 0%, transparent 50%),
radial-gradient(circle at 40% 40%, rgba(255, 99, 71, 0.2) 0%, transparent 50%),
linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 25%, #45b7d1 50%, #f9ca24 75%, #f0932b 100%);
animation: gradientShift 8s ease-in-out infinite;
}

@keyframes gradientShift {
0%, 100% { filter: hue-rotate(0deg) brightness(1); }
25% { filter: hue-rotate(90deg) brightness(1.2); }
50% { filter: hue-rotate(180deg) brightness(0.9); }
75% { filter: hue-rotate(270deg) brightness(1.1); }
}

#starfield {
position: absolute;
top: 0; left: 0;
width: 100%; height: 100%;
z-index: 1;
}

.star {
position: absolute;
background: white;
border-radius: 50%;
animation: twinkle 2s infinite;
}

@keyframes twinkle {
0%, 100% { opacity: 0.3; transform: scale(1); }
50% { opacity: 1; transform: scale(1.2); }
}

/* Birthday balloons - improved design */
#balloons {
position: absolute;
top: 0; left: 0;
width: 100%; height: 100%;
z-index: 2;
pointer-events: none;
}

.balloon {
position: absolute;
width: 50px;
height: 70px;
border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
animation: float 4s ease-in-out infinite;
opacity: 0.9;
box-shadow:
inset -10px -10px 0 rgba(0,0,0,0.1),
0 5px 15px rgba(0,0,0,0.3);
background: linear-gradient(135deg, currentColor 0%, transparent 50%, rgba(255,255,255,0.3) 70%);
}

.balloon::before {
content: â€˜â€™;
position: absolute;
top: 15%;
left: 20%;
width: 15px;
height: 20px;
background: rgba(255,255,255,0.4);
border-radius: 50%;
transform: rotate(-45deg);
}

.balloon::after {
content: â€˜â€™;
position: absolute;
bottom: -8px;
left: 50%;
transform: translateX(-50%);
width: 0;
height: 0;
border-left: 6px solid transparent;
border-right: 6px solid transparent;
border-top: 8px solid currentColor;
}

.balloon-string {
position: absolute;
bottom: -8px;
left: 50%;
transform: translateX(-50%);
width: 1px;
height: 120px;
background: linear-gradient(to bottom, #666 0%, transparent 100%);
animation: stringFloat 4s ease-in-out infinite;
}

@keyframes float {
0%, 100% { transform: translateY(0px) rotate(-1deg); }
25% { transform: translateY(-15px) rotate(1deg); }
50% { transform: translateY(-10px) rotate(-0.5deg); }
75% { transform: translateY(-20px) rotate(0.5deg); }
}

@keyframes stringFloat {
0%, 100% { transform: translateX(-50%) rotate(1deg); }
50% { transform: translateX(-50%) rotate(-1deg); }
}

#form {
z-index: 10;
text-align: center;
background: rgba(255, 255, 255, 0.1);
backdrop-filter: blur(10px);
padding: 30px;
border-radius: 20px;
border: 2px solid rgba(255, 255, 255, 0.2);
}

input, button {
padding: 15px;
font-size: 1.2em;
margin-top: 1em;
border-radius: 10px;
border: none;
backdrop-filter: blur(5px);
}

input {
background: rgba(255, 255, 255, 0.2);
color: white;
border: 2px solid rgba(255, 255, 255, 0.3);
}

input::placeholder {
color: rgba(255, 255, 255, 0.7);
}

button {
cursor: pointer;
background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
color: white;
font-weight: bold;
transition: all 0.3s ease;
border: 2px solid rgba(255, 255, 255, 0.3);
}

button:hover {
transform: translateY(-2px);
box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

#helloContainer {
position: relative;
display: flex;
gap: 10px;
flex-wrap: wrap;
font-size: 3em;
opacity: 0;
z-index: 10;
user-select: none;
justify-content: center;
}

.letter {
position: relative;
transform: translate(0, 0) scale(0);
opacity: 0;
transition: transform 1s ease-out, opacity 1s;
color: #fff;
text-shadow:
0 0 5px #ffcc33,
0 0 10px #ffcc33,
0 0 20px #ff6600,
0 0 30px #ff3300;
}

.letter.birthday {
color: #fff;
text-shadow:
0 0 10px #ff69b4,
0 0 20px #ff1493,
0 0 30px #ffd700,
0 0 40px #ff6347,
0 0 50px #40e0d0;
animation: rainbowGlow 2s ease-in-out infinite;
}

@keyframes rainbowGlow {
0% { text-shadow: 0 0 10px #ff69b4, 0 0 20px #ff1493, 0 0 30px #ffd700; }
25% { text-shadow: 0 0 10px #ffd700, 0 0 20px #ff6347, 0 0 30px #40e0d0; }
50% { text-shadow: 0 0 10px #40e0d0, 0 0 20px #9370db, 0 0 30px #ff69b4; }
75% { text-shadow: 0 0 10px #9370db, 0 0 20px #ff1493, 0 0 30px #ffd700; }
100% { text-shadow: 0 0 10px #ff69b4, 0 0 20px #ff1493, 0 0 30px #ffd700; }
}

#confetti {
pointer-events: none;
position: fixed;
top: 0; left: 0;
width: 100vw; height: 100vh;
z-index: 20;
overflow: visible;
}

.confetti-piece {
position: absolute;
opacity: 0.9;
transform-origin: center;
animation-name: confetti-fall, confetti-rotate;
animation-timing-function: linear;
animation-iteration-count: infinite;
}

.confetti-rect {
width: 8px;
height: 14px;
}

.confetti-circle {
width: 10px;
height: 10px;
border-radius: 50%;
}

.confetti-star {
width: 12px;
height: 12px;
background: transparent;
position: relative;
}

.confetti-star::before {
content: â€˜â˜…â€™;
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
font-size: 12px;
color: inherit;
}

@keyframes confetti-fall {
0% { transform: translateY(-20px); opacity: 1; }
100% { transform: translateY(110vh); opacity: 0; }
}
@keyframes confetti-rotate {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

/* Fireworks effect */
.firework {
position: absolute;
width: 4px;
height: 4px;
border-radius: 50%;
animation: firework 1.5s ease-out;
}

@keyframes firework {
0% {
transform: scale(1);
opacity: 1;
}
100% {
transform: scale(50);
opacity: 0;
}
}
</style>

</head>
<body class="normal-bg">

<div id="starfield"></div>
<div id="balloons"></div>

<div id="form">
  <h1 style="color: white; text-shadow: 0 0 10px rgba(255,255,255,0.5);">What's your name?</h1>
  <input type="text" id="nameInput" placeholder="Type your name" autocomplete="off" />
  <br />
  <button onclick="start()">Submit</button>
</div>

<div id="helloContainer"></div>

<div id="confetti"></div>

<script>
  // Create starfield
  function createStarfield() {
    const starfield = document.getElementById('starfield');
    starfield.innerHTML = '';
    
    for(let i = 0; i < 100; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = `${Math.random() * 100}%`;
      star.style.top = `${Math.random() * 100}%`;
      star.style.width = `${Math.random() * 3 + 1}px`;
      star.style.height = star.style.width;
      star.style.animationDelay = `${Math.random() * 2}s`;
      starfield.appendChild(star);
    }
  }

  // Create birthday balloons with improved design
  function createBalloons() {
    const balloonContainer = document.getElementById('balloons');
    balloonContainer.innerHTML = '';
    
    const colors = ['#ff69b4', '#ffd700', '#ff6347', '#40e0d0', '#9370db', '#32cd32', '#ff1493', '#00ced1'];
    
    for(let i = 0; i < 8; i++) {
      const balloonWrapper = document.createElement('div');
      balloonWrapper.style.position = 'absolute';
      balloonWrapper.style.left = `${5 + i * 11}%`;
      balloonWrapper.style.top = `${Math.random() * 15 + 5}%`;
      
      const balloon = document.createElement('div');
      balloon.className = 'balloon';
      balloon.style.color = colors[i];
      balloon.style.animationDelay = `${Math.random() * 2}s`;
      
      const string = document.createElement('div');
      string.className = 'balloon-string';
      string.style.animationDelay = `${Math.random() * 2}s`;
      
      balloonWrapper.appendChild(balloon);
      balloonWrapper.appendChild(string);
      balloonContainer.appendChild(balloonWrapper);
    }
  }

  // Enhanced confetti with different shapes
  function createConfetti(num = 50) {
    const confettiContainer = document.getElementById('confetti');
    confettiContainer.innerHTML = '';

    const colors = ['#ff69b4','#ffd700','#ff6347','#40e0d0','#9370db','#32cd32','#ff1493','#00ced1'];
    const shapes = ['confetti-rect', 'confetti-circle', 'confetti-star'];

    for(let i = 0; i < num; i++) {
      const confetti = document.createElement('div');
      const shape = shapes[Math.floor(Math.random() * shapes.length)];
      confetti.classList.add('confetti-piece', shape);

      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.color = confetti.style.backgroundColor; // For star shape
      confetti.style.left = `${Math.random() * 100}vw`;
      confetti.style.top = `${-Math.random() * 20}px`;

      const fallDuration = 4000 + Math.random() * 3000;
      confetti.style.animationDuration = `${fallDuration}ms, ${fallDuration / 2}ms`;
      confetti.style.animationDelay = `${Math.random() * 4000}ms, 0ms`;

      confettiContainer.appendChild(confetti);
    }
  }

  // Create fireworks effect
  function createFirework(x, y) {
    const colors = ['#ff69b4', '#ffd700', '#ff6347', '#40e0d0', '#9370db'];
    
    for(let i = 0; i < 12; i++) {
      const firework = document.createElement('div');
      firework.className = 'firework';
      firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      firework.style.left = `${x}px`;
      firework.style.top = `${y}px`;
      firework.style.animationDelay = `${Math.random() * 0.5}s`;
      
      document.body.appendChild(firework);
      
      setTimeout(() => {
        document.body.removeChild(firework);
      }, 1500);
    }
  }

  // Play Happy Birthday song with visual feedback
  function playHappyBirthday() {
    // Show audio status
    const audioStatus = document.createElement('div');
    audioStatus.style.position = 'fixed';
    audioStatus.style.top = '20px';
    audioStatus.style.right = '20px';
    audioStatus.style.background = 'rgba(0,0,0,0.7)';
    audioStatus.style.color = 'white';
    audioStatus.style.padding = '10px 15px';
    audioStatus.style.borderRadius = '20px';
    audioStatus.style.fontSize = '14px';
    audioStatus.style.zIndex = '1000';
    audioStatus.textContent = 'ðŸŽµ Playing Happy Birthday...';
    document.body.appendChild(audioStatus);
    
    try {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      
      // Happy Birthday melody (simplified notes in Hz)
      const notes = [
        261.63, 261.63, 293.66, 261.63, 349.23, 329.63, // Happy birthday to you
        261.63, 261.63, 293.66, 261.63, 392.00, 349.23, // Happy birthday to you
        261.63, 261.63, 523.25, 440.00, 349.23, 329.63, 293.66, // Happy birthday dear [name]
        466.16, 466.16, 440.00, 349.23, 392.00, 349.23  // Happy birthday to you
      ];
      
      const durations = [
        0.5, 0.25, 0.75, 0.75, 0.75, 1.5,
        0.5, 0.25, 0.75, 0.75, 0.75, 1.5,
        0.5, 0.25, 0.75, 0.75, 0.75, 0.75, 1.5,
        0.5, 0.25, 0.75, 0.75, 0.75, 1.5
      ];
      
      let currentTime = audioContext.currentTime;
      
      notes.forEach((frequency, index) => {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.value = frequency;
        oscillator.type = 'triangle'; // Softer sound
        
        gainNode.gain.setValueAtTime(0.2, currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, currentTime + durations[index]);
        
        oscillator.start(currentTime);
        oscillator.stop(currentTime + durations[index]);
        
        currentTime += durations[index];
      });
      
      // Remove status after song duration
      setTimeout(() => {
        audioStatus.textContent = 'ðŸŽµ Song complete!';
        setTimeout(() => document.body.removeChild(audioStatus), 2000);
      }, currentTime * 1000);
      
    } catch(e) {
      audioStatus.textContent = 'ðŸ”‡ Audio blocked by browser';
      audioStatus.style.background = 'rgba(255,100,100,0.8)';
      setTimeout(() => document.body.removeChild(audioStatus), 3000);
    }
  }

  // Parse URL query parameters
  function getQueryParams() {
    const params = {};
    location.search.slice(1).split('&').forEach(pair => {
      const [key, value] = pair.split('=');
      if(key) params[key] = decodeURIComponent(value || '');
    });
    return params;
  }

  function start() {
    const name = document.getElementById('nameInput').value.trim();
    if (!name) return;
    showGreeting(name, false);
  }

  function showGreeting(name, isBday) {
    document.getElementById('form').style.display = 'none';
    const container = document.getElementById('helloContainer');
    container.style.opacity = 1;
    container.innerHTML = '';

    if(isBday) {
      // Switch to birthday theme
      document.body.className = 'birthday-bg';
      document.getElementById('starfield').style.display = 'none';
      createBalloons();
      createConfetti(100);
      
      // Play Happy Birthday song
      try {
        playHappyBirthday();
      } catch(e) {
        console.log('Audio not supported or blocked');
      }
      
      // Create fireworks every 2 seconds
      const fireworkInterval = setInterval(() => {
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight * 0.7;
        createFirework(x, y);
      }, 2000);
      
      // Continuous confetti
      setInterval(() => createConfetti(30), 3000);
      
      // Stop fireworks after 30 seconds
      setTimeout(() => clearInterval(fireworkInterval), 30000);
    } else {
      document.body.className = 'normal-bg';
      createStarfield();
      document.getElementById('starfield').style.display = 'block';
      document.getElementById('balloons').innerHTML = '';
      document.getElementById('confetti').innerHTML = '';
    }

    const message = isBday
      ? `HAPPY BIRTHDAY ${name.toUpperCase()}!` 
      : `HELLO ${name.toUpperCase()}`;

    message.split('').forEach((char, i) => {
      const span = document.createElement('span');
      span.className = isBday ? 'letter birthday' : 'letter';
      span.textContent = char === ' ' ? '\u00A0' : char;

      // Explode from random spots around screen edges
      const angle = Math.random() * 2 * Math.PI;
      const radius = 800;
      const x = Math.cos(angle) * radius;
      const y = Math.sin(angle) * radius;
      const rotation = (Math.random() - 0.5) * 720;

      span.style.transform = `translate(${x}px, ${y}px) rotate(${rotation}deg) scale(0)`;
      span.style.transition = `transform 1s ease-out, opacity 1s`;
      container.appendChild(span);

      setTimeout(() => {
        span.style.transform = `translate(0, 0) rotate(0deg) scale(1)`;
        span.style.opacity = 1;
      }, i * 100);
    });
  }

  // Initialize starfield on load
  createStarfield();

  // On load: check URL params for birthday mode
  window.onload = () => {
    const params = getQueryParams();
    if(params.bday === 'true' && params.name) {
      showGreeting(params.name, true);
    }
  };
</script>

</body>
</html>
